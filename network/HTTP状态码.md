# HTTP状态码

上回书说到，小明和小红是男女朋友，痴汉小明给小红写了一封信，让信差送给小红

- 此时，小明就相当于浏览器，小红相当于服务器，而这封信就相当于浏览器要发给服务器的一个请求，信上写的情话就是请求内容。

信差到了历经千辛万苦终于来到小红家门口，喊出了他们之间约定的暗号‘天王盖地虎’，这个时候呢就有很多种可能了

# 一

这个时候小红没有出来开门，小红的闺蜜出来了，她给信差说，小红换工作搬家了，去了似玉街300号。这个时候信差就需要去另一个目的地送信了。

- 这种情况，这个过程就叫做`永久移动 Moved Permanently`，HTTP状态码`301`。如果我们收藏了这个网址，而状态码返回的是301，那么这个时候浏览器会自动修改收藏的链接地址

# 二

如果小红的闺蜜出来说的是，小红不在，她回家去看妈妈了，你送去她家吧。

- 这种情况呢，就叫做`临时重定向`，状态码`302`

# 三

如果小红的闺蜜说的是，小红不在，她回家去看妈妈了，你送去她家吧。哦对了，如果是男生上门，她妈妈不给开门的。这时候，信差苦逼了，我就是男的啊！

- 这种情况也是临时重定向，但是规定了请求的方式，男生代表POST请求，女生代表GET请求，这个状态码是`303`，表示需要`临时重定向，并且规定了重定向之后的请求方式`

# 四

信差到了这里，吼了半天，没人回应，最后发现小红根本不住这里。信差心里苦啊，这二傻子给了我一个错误的地址

- 这种情况是服务器找不到资源，也就是大名鼎鼎的`404 NOT FOUND`, 4xx还有很多状态码

# 五

信差到了小红家门口，喊出了接头暗号，但是他喊错了，喊成了‘芝麻开门’，这时候小红根本不知道这个暗号，这跟她的暗号根本对不上，所以她直接让信差走开了

- 这时候说明请求的协议不对了，状态码`401`

# 六

信差到了小红家门口，暗号也喊对了，但是今天小红被上司骂了，她心情很不好，不想收信，直接让信差走了

- 这时候就是服务器拒绝了我们的请求，状态码`403`，这个请求是可以在返回体中给出拒绝的原因的，但是女生嘛，就是不想给你说原因，所以这个状态码一般都是服务器不想给出拒绝原因的时候返回的

# 七

假设信差到了小红家门口，但是小红正在洗澡，没空搭理信差

- 这个时候就是服务器繁忙了，直接返回503，一般服务器过载时会返回503

# 八

信差到了小红家门口，但是小红被造物主重启了，信差又不能送信了

- 这时服务器返回`502 Bad Gateway`，即在服务器以代理服务器或网关的形式工作时，收到从上游服务器到达的执行请求的非法响应（吐槽一下，我们公司的开发服务器除了定时更新重启，平时也会时不时的502，平时开发贼难受）

# 九

经历了这么多痛苦的可能，总要要信差成功送信一次吧。那这次信差成功将信送到了小红手上，小红看过之后，立即回信一封‘我们分手吧’，又交给信差，让信差送给小明

- 信差终于成功送信了，小红也回信了，一个来回这就代表这次请求成功了，状态码`200`

# 十

信差将信交到小明手上，小明伤心欲绝，于是又给小红写一封信，想要挽回，然后让信差送信。小红收到信之后，这次不回信了。给信差说，让小明看之前那封信就可以了。

- 之前那封信还在小明那里，代表信息被缓存了，服务器这时候也不需要在返回资源了，为了节约网路开销，让浏览器直接读取缓存。这时状态码为`304`。这个状态码是3系的，但是他不是重定向相关的，我们可以理解为浏览器重定向到了自身